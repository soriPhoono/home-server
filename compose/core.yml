services:
  watchtower:
    image: containrrr/watchtower
    container_name: watchtower
    restart: always
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    deploy:
      replicas: 1

  traefik:
    image: traefik:latest
    container_name: traefik
    restart: always
    ports:
      - "8080:8080" # The Web UI
      - "80:80"     # The HTTP port
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      
      - reverse-proxy/traefik.yml:/etc/traefik/traefik.yml:ro